#!/bin/bash --rcfile
# Copyright 2017 Queue Continuum LLC

DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

if [ -f ~/.bashrc ]
then
	. ~/.bashrc
fi

if [ -z ${PATH+x} ]
then
	export PATH="$DIR/bin"
else
	export PATH="$DIR/bin:$PATH"
fi

if [ -z ${PYTHONPATH+x} ]
then
	export PYTHONPATH="$DIR/lib/python2.7"
else
	export PYTHONPATH="$DIR/lib/python2.7:$PYTHONPATH"
fi

if [ ! -d "$DIR/.venv" ]
then
	virtualenv "$DIR/.venv"
fi

. "$DIR/.venv/bin/activate"

PS1="($DIR) $_OLD_VIRTUAL_PS1"

if [ -f "$DIR/.localrc" ]
then
	. "$DIR/.localrc"
fi
